
[7m[1m[36m RUN [39m[22m[27m [36mv1.6.1[39m [90mD:/G/backend-api-v1.http-server[39m

[90mstdout[2m | tests/diagnose-decimal.test.ts[2m > [22m[2mDecimal Diagnosis[2m > [22m[2mparses decimals as integers[22m[39m
AST for 12.5: {
  "type": "integer",
  "value": "12.5"
}

[90mstdout[2m | tests/diagnose-decimal.test.ts[2m > [22m[2mDecimal Diagnosis[2m > [22m[2mtruncates decimals in addition[22m[39m
[Orchestrator] Using V5 PrimitiveMaster Path
[V5-ORCH] rootAst.id=root, kind=binaryOp
[NodeContext] Building for Click: {"nodeId":"root","kind":"operator"}
[DEBUG-VISIT] root
[NodeContext] Found Node type: binaryOp
[NodeContext] Operator: +
[Matcher] Checking P.FRAC_ADD_SAME_DEN
[Matcher] FAIL: Missing Guard: denominators-equal
[V5-STEPMASTER] chosenPrimitiveId=P.INT_ADD operator=+ kind=green-primitive score=1
[StepMaster] Deciding among 1 candidates. Last step exists: false
[StepMaster] Enforcing locality for target: root
[StepMaster] Valid candidates: 1
[StepMaster] Chosen: v5-match

 [32mÎ“Â£Ã´[39m tests/diagnose-decimal.test.ts [2m ([22m[2m2 tests[22m[2m)[22m[90m 13[2mms[22m[39m
[90mstdout[2m | tests/diagnose-decimal.test.ts[2m > [22m[2mDecimal Diagnosis[2m > [22m[2mtruncates decimals in addition[22m[39m
[Orchestrator] [V5-RUNNER-START] Executing Primitive: P.INT_ADD
[V5-RUNNER-END] primitiveId=P.INT_ADD ok=true errorCode=null resultLatex=13.25
[STEP SNAPSHOT] id=step-1765402696783 status=step-applied
Decimal Add Result: {
  "status": "step-applied",
  "engineResult": {
    "ok": true,
    "newExpressionLatex": "13.25"
  },
  "history": {
    "entries": [
      {
        "stepId": "step-1765402696779-bv07q",
        "candidateId": "v5-match",
        "decisionStatus": "chosen",
        "timestampIso": "2025-12-10T21:38:16.780Z",
        "invariantRuleId": "v5-rule",
        "targetPath": "root",
        "expressionBefore": "12.5 + 0.75",
        "expressionAfter": "13.25"
      }
    ]
  },
  "debugInfo": null,
  "primitiveDebug": {
    "primitiveId": "P.INT_ADD",
    "status": "ready",
    "domain": "primitive-master",
    "reason": "matched-by-selection"
  }
}


[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m2 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 16:38:16
[2m   Duration [22m 722ms[2m (transform 264ms, setup 0ms, collect 360ms, tests 13ms, environment 1ms, prepare 145ms)[22m

